import { Dispatch, SetStateAction, Fragment } from "react";
import { Dialog, Transition } from "@headlessui/react";
import { PrivateDataProps } from "@/types/privateData";
import { getPrivateData } from "@/helper/assesment-kyc";
import { toast } from "react-toastify";
const dd = {
  name: "Adam",
  nationality: "Indonesia",
  passportId: "X123123",
  birthDate: "2023-04-19T19:43:35.640Z",
  expiryDate: "2023-04-19T19:43:35.640Z",
  gender: "Male",
  selectedFinancialInstitution: { institution: "BCA", mspid: "Org1MSP" },
  biometrics: [
    {
      live: {
        "0": -0.10599066317081451,
        "1": 0.10212106257677078,
        "2": 0.06446662545204163,
        "3": -0.05660751834511757,
        "4": -0.004003763198852539,
        "5": -0.13182999193668365,
        "6": 0.001898193615488708,
        "7": -0.1531042605638504,
        "8": 0.1348167359828949,
        "9": -0.0982506275177002,
        "10": 0.22355279326438904,
        "11": -0.12458482384681702,
        "12": -0.2096647024154663,
        "13": -0.11342601478099823,
        "14": -0.021155836060643196,
        "15": 0.149260014295578,
        "16": -0.15722593665122986,
        "17": -0.11366040259599686,
        "18": -0.036001697182655334,
        "19": -0.10415490716695786,
        "20": 0.025500109419226646,
        "21": 0.02450701966881752,
        "22": 0.02718588337302208,
        "23": 0.08205979317426682,
        "24": -0.11017253994941711,
        "25": -0.32173582911491394,
        "26": -0.1604931354522705,
        "27": -0.15400785207748413,
        "28": -0.08532483875751495,
        "29": -0.04515914246439934,
        "30": -0.05550938844680786,
        "31": 0.10013400763273239,
        "32": -0.1394307166337967,
        "33": -0.030072463676333427,
        "34": -0.04905262589454651,
        "35": 0.07666700333356857,
        "36": -0.01871020533144474,
        "37": -0.01575305499136448,
        "38": 0.1686631590127945,
        "39": 0.07619581371545792,
        "40": -0.1157083585858345,
        "41": -0.06522935628890991,
        "42": -0.009118528105318546,
        "43": 0.3143364191055298,
        "44": 0.17914916574954987,
        "45": -0.010565612465143204,
        "46": 0.02746790088713169,
        "47": -0.028573721647262573,
        "48": 0.04006768390536308,
        "49": -0.12411356717348099,
        "50": 0.01338091678917408,
        "51": 0.1384209841489792,
        "52": 0.10693065077066422,
        "53": 0.053208984434604645,
        "54": 0.024557391181588173,
        "55": -0.09892264008522034,
        "56": -0.009063719771802425,
        "57": 0.031076578423380852,
        "58": -0.1185862347483635,
        "59": 0.005838992074131966,
        "60": 0.07403996586799622,
        "61": -0.1396263688802719,
        "62": -0.09164270758628845,
        "63": -0.05259879678487778,
        "64": 0.31360819935798645,
        "65": 0.11299049854278564,
        "66": -0.14717385172843933,
        "67": -0.11971927434206009,
        "68": 0.128946453332901,
        "69": -0.147175595164299,
        "70": -0.09170305728912354,
        "71": 0.016841797158122063,
        "72": -0.17274384200572968,
        "73": -0.1297905147075653,
        "74": -0.3132491111755371,
        "75": 0.08834588527679443,
        "76": 0.33388400077819824,
        "77": 0.042307619005441666,
        "78": -0.19264531135559082,
        "79": 0.04072627052664757,
        "80": -0.14038102328777313,
        "81": -0.0038539988454431295,
        "82": 0.11180128902196884,
        "83": 0.13869619369506836,
        "84": -0.0570596382021904,
        "85": 0.0960015207529068,
        "86": -0.13356754183769226,
        "87": -0.0053336843848228455,
        "88": 0.1287936121225357,
        "89": -0.10376738756895065,
        "90": -0.05549204722046852,
        "91": 0.20527076721191406,
        "92": -0.0860067829489708,
        "93": 0.09607960283756256,
        "94": 0.0274478942155838,
        "95": -0.040853049606084824,
        "96": -0.060093674808740616,
        "97": 0.04227928817272186,
        "98": -0.06321275234222412,
        "99": 0.041651491075754166,
        "100": 0.08829114586114883,
        "101": -0.09742312133312225,
        "102": -0.05660334974527359,
        "103": 0.07849759608507156,
        "104": -0.12299012392759323,
        "105": 0.06651607155799866,
        "106": 0.022464418783783913,
        "107": 0.01218821294605732,
        "108": -0.027140196412801743,
        "109": -0.016515763476490974,
        "110": -0.17289026081562042,
        "111": -0.12636062502861023,
        "112": 0.1665267050266266,
        "113": -0.23956361413002014,
        "114": 0.10295621305704117,
        "115": 0.15677329897880554,
        "116": -0.02865554764866829,
        "117": 0.13211001455783844,
        "118": 0.10198455303907394,
        "119": 0.11820264160633087,
        "120": -0.06055109575390816,
        "121": -0.003858327167108655,
        "122": -0.17388665676116943,
        "123": 0.04053385928273201,
        "124": 0.13711665570735931,
        "125": 0.044295940548181534,
        "126": 0.016366174444556236,
        "127": 0.014148160815238953,
      },
    },
    {
      passport: {
        label: "Face",
        descriptors: [
          [
            -0.08542025834321976, 0.14096614718437195, 0.035801321268081665,
            -0.10039413720369339, -0.018348608165979385, -0.08021985739469528,
            -0.08362788707017899, -0.13335123658180237, 0.11364123225212097,
            -0.0702713206410408, 0.22286488115787506, -0.10006235539913177,
            -0.25639861822128296, -0.1627579778432846, -0.0658096894621849,
            0.178360715508461, -0.15802815556526184, -0.14011628925800323,
            -0.03726872056722641, -0.0715889185667038, 0.07263197004795074,
            0.019365031272172928, 0.07599151134490967, 0.02403973788022995,
            -0.13561555743217468, -0.3645446002483368, -0.10945703089237213,
            -0.07889524102210999, -0.0698421522974968, -0.04621884226799011,
            -0.05664405971765518, 0.06002148985862732, -0.19593118131160736,
            -0.03787107765674591, -0.003922722302377224, 0.10341798514127731,
            0.016110386699438095, -0.069767065346241, 0.15767161548137665,
            0.05859051272273064, -0.1454298347234726, -0.05887683480978012,
            0.028310928493738174, 0.27748456597328186, 0.19780313968658447,
            0.005307802930474281, 0.06287626922130585, -0.10081049054861069,
            0.07544036209583282, -0.11570907384157181, -0.013548022136092186,
            0.14416266977787018, 0.047629304230213165, 0.024117764085531235,
            0.041762981563806534, -0.07065370678901672, 0.05283982306718826,
            0.10398616641759872, -0.14281684160232544, -0.04701359570026398,
            0.04866928234696388, -0.11217816174030304, -0.03686464577913284,
            -0.09105005115270615, 0.2924078702926636, 0.06819272041320801,
            -0.11980364471673965, -0.13799932599067688, 0.14149832725524902,
            -0.106205515563488, -0.05788985267281532, 0.046430554240942,
            -0.14398065209388733, -0.1283704787492752, -0.3284851610660553,
            0.022886062040925026, 0.37968143820762634, 0.07454957067966461,
            -0.18186044692993164, 0.06572411209344864, -0.07229381799697876,
            -0.04300569370388985, 0.13931523263454437, 0.13584627211093903,
            -0.06225058063864708, 0.10396718978881836, -0.1559552699327469,
            0.01684742420911789, 0.2252252995967865, -0.07381629198789597,
            -0.04870462045073509, 0.17685990035533905, -0.0555611327290535,
            0.09395883977413177, 0.058926746249198914, -0.0003270818560849875,
            -0.12072824686765671, 0.059958264231681824, -0.08922630548477173,
            0.01935075968503952, 0.04569530487060547, -0.09978563338518143,
            -0.03618466854095459, 0.09753438085317612, -0.0800449326634407,
            0.03395475074648857, 0.006087830290198326, -0.01103339996188879,
            -0.05779086798429489, -0.04887402057647705, -0.08420702069997787,
            -0.11463076621294022, 0.1109912171959877, -0.21783412992954254,
            0.10843357443809509, 0.15354576706886292, 0.015383224003016949,
            0.13206274807453156, 0.1101808175444603, 0.11795904487371445,
            -0.05976212024688721, -0.008865184150636196, -0.14878910779953003,
            -0.007959358394145966, 0.08707017451524734, 0.016291772946715355,
            0.12354420125484467, -0.006956384051591158,
          ],
        ],
      },
    },
  ],
  mrz: {
    documentType: "P",
    nameMatch: "GAYUH KAUTAMAN RAHMAD",
    documentNumberMatch: "X1221852",
    nationalityMatch: "IDN",
    dateOfBirthMatch: "O0O914",
    genderMatch: "M",
    expirationDateMatch: "260809",
  },
};

interface ModalPrivateDataProps {
  data: PrivateDataProps;
  title: string;
  isOpen: boolean;
  setIsOpen: Dispatch<SetStateAction<boolean>>;
}

const ModalPrivateData = ({
  data,
  title,
  isOpen,
  setIsOpen,
}: ModalPrivateDataProps) => {
  function closeModal() {
    setIsOpen(false);
  }

  return (
    <>
      {data && (
        <Transition appear show={isOpen} as={Fragment}>
          <Dialog as="div" className="relative z-10" onClose={closeModal}>
            <Transition.Child
              as={Fragment}
              enter="ease-out duration-300"
              enterFrom="opacity-0"
              enterTo="opacity-100"
              leave="ease-in duration-200"
              leaveFrom="opacity-100"
              leaveTo="opacity-0"
            >
              <div className="fixed inset-0 bg-black bg-opacity-25" />
            </Transition.Child>

            <div className="fixed inset-0 overflow-y-auto">
              <div className="flex min-h-full items-center justify-center p-4 text-center">
                <Transition.Child
                  as={Fragment}
                  enter="ease-out duration-300"
                  enterFrom="opacity-0 scale-95"
                  enterTo="opacity-100 scale-100"
                  leave="ease-in duration-200"
                  leaveFrom="opacity-100 scale-100"
                  leaveTo="opacity-0 scale-95"
                >
                  <Dialog.Panel className="w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all">
                    <Dialog.Title
                      as="h3"
                      className="text-lg font-medium leading-6 text-gray-900"
                    >
                      {title}
                    </Dialog.Title>
                    <div className="mt-2 grid grid-cols-2 odd:text-gray-500">
                      <p className="">Name</p>
                      <p>{data.name}</p>
                      <p>Nationality</p>
                      <p>{data.nationality}</p>
                      <p>Passport ID</p>
                      <p>{data.passportId}</p>
                      <p>Birth Date</p>
                      <p>{data.birthDate}</p>
                      <p>Expiry Date</p>
                      <p>{data.expiryDate}</p>
                      <p>Gender</p>
                      <p>{data.gender}</p>
                      <p>Financial Institution</p>
                      <p>{data.selectedFinancialInstitution.institution}</p>
                    </div>

                    <div className="mt-4">
                      <button
                        type="button"
                        className="inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"
                        onClick={closeModal}
                      >
                        Got it, thanks!
                      </button>
                    </div>
                  </Dialog.Panel>
                </Transition.Child>
              </div>
            </div>
          </Dialog>
        </Transition>
      )}
    </>
  );
};

export default ModalPrivateData;
